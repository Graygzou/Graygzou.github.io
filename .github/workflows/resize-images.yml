name: Resize Images

on:
  push:
    branches: [ release ]

  workflow_dispatch:

jobs:

  resize:
    runs-on: ubuntu-latest
    defaults:
      run:
        shell: bash
    steps:
      - name: Github checkout
        uses: actions/checkout@v2

      - name: Resize jpg images
        uses: ./.github/actions/resizeimg
        with:
          original-folder: "jekyll/assets/"
          extension: "jpg"

      - name: Resize png images
        uses: ./.github/actions/resizeimg
        with:
          original-folder: "jekyll/assets/"
          extension: "png"

      - name: Upload resize image
        uses: actions/upload-artifact@v1
        with:
          name: resized-image
          path: jekyll/assets/

