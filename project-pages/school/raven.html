<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#ff8c38"/><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>raven | Grégoire Boiron</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="raven" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Top down 2D game, similar to a Quake-style deathmatch." />
<meta property="og:description" content="Top down 2D game, similar to a Quake-style deathmatch." />
<link rel="canonical" href="https://graygzou.github.io/project-pages/school/raven.html" />
<meta property="og:url" content="https://graygzou.github.io/project-pages/school/raven.html" />
<meta property="og:site_name" content="Grégoire Boiron" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-01-11T18:04:25+00:00" />
<script type="application/ld+json">
{"description":"Top down 2D game, similar to a Quake-style deathmatch.","mainEntityOfPage":{"@type":"WebPage","@id":"https://graygzou.github.io/project-pages/school/raven.html"},"@type":"BlogPosting","url":"https://graygzou.github.io/project-pages/school/raven.html","headline":"raven","dateModified":"2020-01-11T18:04:25+00:00","datePublished":"2020-01-11T18:04:25+00:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css">
  <link rel="manifest" href="/manifest.json">
  <!-- Should be an 180x180 icon. -->
  <!-- See https://stackoverflow.com/questions/5110776/apple-touch-icon-for-websites -->
  <link rel="apple-touch-icon" href="/assets/ghost-cat-180.png"><link type="application/atom+xml" rel="alternate" href="https://graygzou.github.io/feed.xml" title="Grégoire Boiron" /></head>
<body><header class="site-header">

  <div class="wrapper">
<div class="profil-header">
      <a class="site-title" rel="author" href="/">Grégoire Boiron</a>

      <p class="profil-description">Programmer Generalist at iLLOGIKA</p>
      <ul class="social-media-list">
<li>
            <a href="https://twitter.com/GrayGzou" aria-label="twitter">
              <svg class="svg-icon">
                <use xlink:href="/assets/icons/gamefolio-social-icons.svg#twitter">
                </use>
              </svg>
            </a>
          </li>
<li>
            <a href="https://github.com/Graygzou" aria-label="github">
              <svg class="svg-icon">
                <use xlink:href="/assets/icons/gamefolio-social-icons.svg#github">
                </use>
              </svg>
            </a>
          </li>
<li>
            <a href="https://www.linkedin.com/in/gregoire-boiron/" aria-label="linkedin">
              <svg class="svg-icon">
                <use xlink:href="/assets/icons/gamefolio-social-icons.svg#linkedin">
                </use>
              </svg>
            </a>
          </li>
<li>
            <a href="https://gamejolt.com/@GrayGzou" aria-label="gamejolt">
              <svg class="svg-icon">
                <use xlink:href="/assets/icons/gamefolio-social-icons.svg#gamejolt">
                </use>
              </svg>
            </a>
          </li>
<li>
            <a href="https://graygzou.itch.io/" aria-label="itch-dot-io">
              <svg class="svg-icon">
                <use xlink:href="/assets/icons/gamefolio-social-icons.svg#itch-dot-io">
                </use>
              </svg>
            </a>
          </li>
</ul>
    </div>
<nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewbox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>

        <div class="trigger">
<a class="page-link" href="/">Home</a><a class="page-link" href="/projects/">Projects</a><a class="page-link" href="/resume/">Resume</a><a class="page-link" href="/blog/">Blog</a><a class="page-link" href="/about/">About</a>
</div>
      </nav>
</div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/VideoGame">

  <header class="post-header">
    <div class="project-thumbnail">
      <h1 class="project-title p-name" itemprop="name">Raven</h1>
      
      <img class="thumbnail-img" src="/assets/project-images/raven/raven-banner.png" alt="raven-banner">
    </div>
    <p class="project-description">Top down 2D game, similar to a Quake-style deathmatch.</p>
    <p class="post-meta"></p>

    
    <div class="linguist_bar">
          <div style="background: #f34b7d; width: 39.2%;"></div>
          <div style="background: #555555; width: 35.5%;"></div>
          <div style="background: #e34c26; width: 22.3%;"></div>
          <div style="background: #000080; width: 0.8%;"></div>
          <div style="background: #427819; width: 0.7%;"></div>
          <div style="background: #3572A5; width: 0.6%;"></div>
<!-- Combine all the languages together to avoid having too much stuff at the end --><div style="background: #ccc; width: 0.9%;"></div>
</div>
    <div class="linguist_legend">
<div>
            <svg class="svg-icon svg-project" style="fill: #f34b7d;">
              <use xlink:href="/assets/icons/gamefolio-regular-icons.svg#circle">
              </use>
            </svg>
            <span class="language_name">C++</span>
            <span class="language_percentage">39.2%</span>
          </div>
<div>
            <svg class="svg-icon svg-project" style="fill: #555555;">
              <use xlink:href="/assets/icons/gamefolio-regular-icons.svg#circle">
              </use>
            </svg>
            <span class="language_name">C</span>
            <span class="language_percentage">35.5%</span>
          </div>
<div>
            <svg class="svg-icon svg-project" style="fill: #e34c26;">
              <use xlink:href="/assets/icons/gamefolio-regular-icons.svg#circle">
              </use>
            </svg>
            <span class="language_name">HTML</span>
            <span class="language_percentage">22.3%</span>
          </div>
<div>
            <svg class="svg-icon svg-project" style="fill: #000080;">
              <use xlink:href="/assets/icons/gamefolio-regular-icons.svg#circle">
              </use>
            </svg>
            <span class="language_name">Lua</span>
            <span class="language_percentage">0.8%</span>
          </div>
<div>
            <svg class="svg-icon svg-project" style="fill: #427819;">
              <use xlink:href="/assets/icons/gamefolio-regular-icons.svg#circle">
              </use>
            </svg>
            <span class="language_name">Makefile</span>
            <span class="language_percentage">0.7%</span>
          </div>
<div>
            <svg class="svg-icon svg-project" style="fill: #3572A5;">
              <use xlink:href="/assets/icons/gamefolio-regular-icons.svg#circle">
              </use>
            </svg>
            <span class="language_name">Python</span>
            <span class="language_percentage">0.6%</span>
          </div>
<!-- Combine all the languages together to avoid having too much stuff at the end --><div>
          <svg class="svg-icon svg-project" style="fill: ;">
            <use xlink:href="/assets/icons/gamefolio-regular-icons.svg#circle">
            </use>
          </svg>
          <span class="language_name">Others</span>
          <span class="language_percentage">0.9%</span>
        </div>
</div>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h2>Overview</h2>

    <aside class="overview_table"><div>
        <span class="table_title">Links:</span>
        <ul class="social-media-links"><li>
            <a href="https://github.com/Graygzou/raven">
              <svg class="svg-icon">
                <use xlink:href="/assets/icons/gamefolio-social-icons.svg#github">
                </use>
              </svg>
            </a>
          </li></ul>
      </div>
<div>
        <span class="table_title">Platform:</span>
        <ul><li itemprop="gamePlatform">Windows</li></ul>
      </div>
<div>
          <span class="table_title">Tools Used:</span>
          <ul>
<li itemscope itemtype="https://schema.org/Thing"><span itemprop="name">Visual Studio</span></li>
<li itemscope itemtype="https://schema.org/Thing"><span itemprop="name">Lua</span></li>
</ul>
        </div>
<div>
        <span class="table_title">Duration:</span>
        <ul>
          <li>1 month</li>
        </ul>
      </div>
      <div>
        <span class="table_title">Team Size:</span>
        <ul><li>Programmers : 6</li></ul>
      </div>
      <div>
        <span class="table_title">Main Role:</span>
        <ul>
<li>Project Manager</li>
<li>IA Programmer</li>
<li>Gameplay Programmer</li>
</ul>
      </div>
    </aside>

    <div class="side_overview">
      <h4>Project Pitch</h4>
      <p>Raven is a top down 2D game, similar to a Quake-style deathmatch. It is originaly made by Mat Bucklandin his book, Programming Game AI By Example. This application has been completed for a school project at the Université du Québec à Chicoutimi (UQAC). The course is the following: <a href="http://cours.uqac.ca/8IAR125">Artificial Intelligence for Video Games (8IAR125)</a>.
The gameplay of Raven is similar of a Quake-style deathmatch. When starting the game, severals bots spawned controlled by similar AI trying to win, by killing as many bots as possible. Bots can also pick up health or weapons if needed. The player could also take control of a bot by clicking on it. Ones the bot is controlled, some actions were possible like firing, switching weapons, etc.</p>
<h4>Project goals</h4>
      <ul class="ul_goal">
<li>→ Learn and apply AI techniques used in video games.</li>
<li>→ Try making a neural network to train an AI.</li>
<li>→ Improved the game by adding more modes (team deathmatch, 1vs1)</li>
<li>→ Improved the game by adding more features (weapons, maps, ...).</li>
</ul>
</div>

    <article class="detailed_description">

      <!-- Should use jekyll tag to place it in the right place. --><!---
Gregoire Boiron <gregoire.boiron@gmail.com>
Copyright (c) 2018-2019 Gregoire Boiron  All Rights Reserved.
--->

<!--- Grégoire Boiron <gregoire.boiron@gmail.com> --->
<!--- Copyright (c) 2018-2019 Gregoire Boiron  All Rights Reserved. --->

<h2 id="screenshots">Screenshots</h2>
<section class="carousel">
    <img onclick="zoom(this)" class="carousel-img" src="/assets/project-images/raven/carousel/1vs1-1.png" alt="1vs1-1" href="/assets/project-images/raven/carousel/1vs1-1.png"><img onclick="zoom(this)" class="carousel-img" src="/assets/project-images/raven/carousel/1vs1-2.png" alt="1vs1-2" href="/assets/project-images/raven/carousel/1vs1-2.png"><img onclick="zoom(this)" class="carousel-img" src="/assets/project-images/raven/carousel/image21.png" alt="image21" href="/assets/project-images/raven/carousel/image21.png"><img onclick="zoom(this)" class="carousel-img" src="/assets/project-images/raven/carousel/image22.png" alt="image22" href="/assets/project-images/raven/carousel/image22.png"><img onclick="zoom(this)" class="carousel-img" src="/assets/project-images/raven/carousel/image26.png" alt="image26" href="/assets/project-images/raven/carousel/image26.png"><img onclick="zoom(this)" class="carousel-img" src="/assets/project-images/raven/carousel/image27.png" alt="image27" href="/assets/project-images/raven/carousel/image27.png"><img onclick="zoom(this)" class="carousel-img" src="/assets/project-images/raven/carousel/image29.png" alt="image29" href="/assets/project-images/raven/carousel/image29.png"><img onclick="zoom(this)" class="carousel-img" src="/assets/project-images/raven/carousel/learningBot.png" alt="learningBot" href="/assets/project-images/raven/carousel/learningBot.png"><img onclick="zoom(this)" class="carousel-img" src="/assets/project-images/raven/carousel/learningBot2.png" alt="learningBot2" href="/assets/project-images/raven/carousel/learningBot2.png"><img onclick="zoom(this)" class="carousel-img" src="/assets/project-images/raven/carousel/miss-aim.png" alt="miss-aim" href="/assets/project-images/raven/carousel/miss-aim.png"><img onclick="zoom(this)" class="carousel-img" src="/assets/project-images/raven/carousel/new-map.png" alt="new-map" href="/assets/project-images/raven/carousel/new-map.png"><img onclick="zoom(this)" class="carousel-img" src="/assets/project-images/raven/carousel/team1.png" alt="team1" href="/assets/project-images/raven/carousel/team1.png"><img onclick="zoom(this)" class="carousel-img" src="/assets/project-images/raven/carousel/team2.png" alt="team2" href="/assets/project-images/raven/carousel/team2.png"><img onclick="zoom(this)" class="carousel-img" src="/assets/project-images/raven/carousel/team3.png" alt="team3" href="/assets/project-images/raven/carousel/team3.png"></section>

<h2 id="detailed-info">Detailed Info</h2>
<p>When starting the game, several bots spawned controlled by similar AI trying to win, by killing as many bots as possible.
Bots can also pick up health or weapons if needed. The player could also take control of a bot by clicking on it.
Ones the bot is controlled, some actions were possible like firing, switching weapons, etc.</p>

<p>All the below techniques were already in the game or added by the team into Raven.</p>

<p>The final goal was to make bots behave like human as much as possible and create the illusion to playing against thinking humans.</p>

<h3 id="added-features">Added Features</h3>
<ul>
  <li>A human player and custom controls (ZQSD movement with mouse scroll to switch weapons).</li>
  <li>Introduce “fuzzy logic” to bots.</li>
  <li>New weapon in the game : a grenade.</li>
  <li>Introduce a learning bot (create neural network and train it with game data).</li>
  <li>Two new modes : team death-match and Duel mode (1vs1).</li>
  <li>Three Bot behaviors for duel mode (“Burnhead”, “Coward” and “Weapon Collector”).</li>
  <li>Add a new map.</li>
</ul>

<h3 id="ia-techniques">IA techniques</h3>
<h4 id="goal-driven-agent-behavior">Goal-Driven Agent Behavior</h4>
<p>In this application Mat Buckland decided to add a “brain” to each bots in the game. 
This brain used goal-driven behavior to tell the bot what he should do right now based on game entries.</p>

<h4 id="goal-decomposition">Goal decomposition</h4>
<p><img class="class-diagram" src="/assets/project-images/raven/goals-composite.png" alt="goals-composite"></p>

<p>This process works just like the human brain : if you want to achieve something, you will decomposed this goal into many sub-goals easier to solve than the first one. 
And if it’s not enough yet, keep doing this until sub-goals granularity are simple enough to be code by a function or a line of code. 
This can be done with the composite design pattern like the picture shows.</p>

<p>We can noticed that goals have three methods :</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Activate()</code></li>
  <li><code class="language-plaintext highlighter-rouge">Process()</code></li>
  <li><code class="language-plaintext highlighter-rouge">Terminate()</code></li>
</ul>

<p>Those are used to start a goal, keep track of the progress, and close a goal. 
This kind of abstraction is really useful, specially when game data make the bot change his goal priorities (enemy showing up after passing a corner, enemy fire coming from the back, etc.)</p>

<h4 id="goals-arbitration">Goals arbitration</h4>
<p>Once we know how to achieve each goal, we need to choose between available goals. To do so, a score is given to each goal for each update. 
This score is calculated with Desirability functions that take many game parameters in account and standardized to be in the range 0 (Low Desirability) to 1 (High Desirability). 
The goal with the highest desirability is chose to be the next goal.</p>

<p>In addition, a memory has been add to be able to stop a current goal, make some actions and resume the previous main goal.</p>

<h4 id="fuzzy-logic">Fuzzy Logic</h4>
<p>Fuzzy logic were also introduced to make bots choose their weapons based on the game context. 
Fuzzy logic is initially used to put values on vague linguistic terms like “small amount”, “slightly”, etc.</p>

<p>Thanks to Bayesian statistics and probabilities, we can defined a fuzzy set that describe the desirability of a weapon based on a specific parameter. 
By adding fuzzy rules to it, we will be able to compute the final value which will tell the bot, based on a final fuzzy set, which weapon is the best right now.</p>

<div class="bloc-images">
    <img src="/assets/project-images/raven/ammo-fuzzy.png" alt="ammo-fuzzy">
    <img src="/assets/project-images/raven/weapon-fuzzy.png" alt="weapon-fuzzy">
</div>

<h4 id="neural-network">Neural Network</h4>
<p>Finally, we implemented a neural network in this application to let a bot learned how to shoot. 
To do so, we used a multi-layer perceptron (MLP) and train it “to shoot or not” with specific inputs. 
Those inputs were the following :</p>
<ul>
  <li>Is the enemy visible ? (0 or 1)</li>
  <li>Does the enemy has maximum health ? (0 or 1)</li>
  <li>Does the learning bot has his maximum health ?</li>
  <li>The current weapon of the learning bot (6 through 9)</li>
  <li>Does the distance enemy-learning bot is less than 200 pixels ? (0 or 1)</li>
</ul>

<p>We used the back-propagation to trained the network, which is a traditional supervised learning technique. 
To make sure the net was trained, we made tests with other data than our training data and we analysed results. 
We’ve find out that our learning process were doing good and we finally tested it in-game.</p>

<div class="bloc-images">
    <img src="/assets/project-images/raven/network.png" alt="network">
    <img src="/assets/project-images/raven/results.png" alt="results">
</div>

<p>The final results were correct since the learning bot shoot at the other bots. 
We even noticed that his score were slightly higher than the average.</p>



    </article>
  </div>

  <!-- Trigger the Modal -->
  <!--<img id="myImg" src="img_snow.jpg" alt="Snow" style="width:100%;max-width:300px">-->

  <!-- The Modal -->
  <div id="myModal" class="modal">

    <!-- The Close Button -->
    <span class="close">×</span>

    <!-- Modal Content (The Image) -->
    <img class="modal-content" id="imgZoom" alt="imgZoom" data-proofer-ignore>

    <!-- Modal Caption (Image Text) -->
    <div id="caption"></div>
  </div>
<a class="u-url" href="/project-pages/school/raven.html" hidden></a>
</article>

<script>
  // Get the modal
  var modal = document.getElementById("myModal");
  modal.onclick = function() {
    modal.style.display = "none";
  }

  // Get the image and insert it inside the modal - use its "alt" text as a caption
  var modalImg = document.getElementById("imgZoom");
  var captionText = document.getElementById("caption");
  function zoom(element){
    modal.style.display = "block";
    modalImg.src = element.src;
    modalImg.alt = element.alt;
    captionText.innerHTML = element.alt;
  }

  // Get the <span> element that closes the modal
  var span = document.getElementsByClassName("close")[0];

  // When the user clicks on <span> (x), close the modal
  span.onclick = function() {
    modal.style.display = "none";
  }
</script>

      </div>
    </main><footer class="site-footer h-card">
  <div class="wrapper">
    <h2 class="footer-heading">Grégoire Boiron</h2>
    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Grégoire Boiron</li>
<li><a class="u-email" href="mailto:gregoire.boiron@gmail.com">gregoire.boiron@gmail.com</a></li>
</ul>
      </div>
      <div class="footer-col footer-col-2">
<ul class="social-media-list">
<!-- Personal social medias --><!-- Test icons -->
</ul>
</div>
      <div class="footer-col footer-col-3">
        <p>Grégoire Boiron's personal site. Host my portfolio, links to my projects and my own blog.</p>
      </div>
    </div>
  </div>
</footer>
<script src="/scripts/service-worker-helper.js"></script>

    <div class="offline-ready">Site is Ready for Offline Use</div>

  </body>

</html>
